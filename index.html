<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>BuzzQuest - The Ultimate Guessing Game</title>
  <style>
    /* Same styles as before... */
    /* Remove the selected button highlight */
    .category-btn.selected {
      background: #16a085;
    }
  </style>
</head>
<body>
  <div id="app" role="main" aria-label="BuzzQuest guessing game">
    <h1>BuzzQuest</h1>
    <div id="start-screen" aria-label="Select category and start game">
      <div class="category-buttons" role="list" aria-label="Game categories">
        <button class="category-btn" data-category="Characters" role="listitem" aria-pressed="false">Characters</button>
        <button class="category-btn" data-category="Animals" role="listitem" aria-pressed="false">Animals</button>
        <button class="category-btn" data-category="Objects" role="listitem" aria-pressed="false">Objects</button>
        <button class="category-btn" data-category="Places" role="listitem" aria-pressed="false">Places</button>
        <button class="category-btn" data-category="Games" role="listitem" aria-pressed="false">Games</button>
        <button class="category-btn" data-category="Movies" role="listitem" aria-pressed="false">Movies</button>
        <button class="category-btn" data-category="Songs" role="listitem" aria-pressed="false">Songs</button>
      </div>
      <button id="start-btn" aria-disabled="true" disabled>Start Game</button>
    </div>

    <div id="game-screen" class="hidden" aria-live="polite" aria-atomic="true">
      <p id="message"></p>
      <div class="answers" role="group" aria-label="Answer options">
        <button class="answer-btn" data-answer="yes" aria-pressed="false">Yes</button>
        <button class="answer-btn" data-answer="no" aria-pressed="false">No</button>
        <button class="answer-btn" data-answer="idk" aria-pressed="false">Don't Know</button>
      </div>
      <div id="guess-section" role="region" aria-live="polite" aria-atomic="true"></div>

      <div id="user-input-section" class="hidden" aria-label="Input your answer if game failed">
        <input type="text" id="user-guess-input" placeholder="What were you thinking of?" aria-label="User guess input" />
        <button id="submit-user-guess">Submit</button>
      </div>

      <button id="next-round-btn" class="hidden" aria-label="Play Again">Play Again</button>
      <div class="scoreboard" aria-live="polite" aria-atomic="true"></div>
    </div>
  </div>

  <script>
    // Dynamic behavior and interactivity
    document.addEventListener("DOMContentLoaded", () => {
      const categoryButtons = document.querySelectorAll('.category-btn');
      const startButton = document.getElementById('start-btn');
      const gameScreen = document.getElementById('game-screen');
      const startScreen = document.getElementById('start-screen');
      const nextRoundButton = document.getElementById('next-round-btn');
      const answerButtons = document.querySelectorAll('.answer-btn');
      const messageDisplay = document.getElementById('message');
      const userInputSection = document.getElementById('user-input-section');
      const userGuessInput = document.getElementById('user-guess-input');
      const submitUserGuessButton = document.getElementById('submit-user-guess');

      let selectedCategory = null;

      // Enable "Start Game" when a category is selected
      categoryButtons.forEach(button => {
        button.addEventListener('click', (e) => {
          // Instead of highlighting the category, just store the selection
          selectedCategory = button.getAttribute('data-category');
          startButton.disabled = false;
        });
      });

      // Start the game
      startButton.addEventListener('click', () => {
        startScreen.classList.add('hidden');
        gameScreen.classList.remove('hidden');
        messageDisplay.textContent = `You've selected the "${selectedCategory}" category! Let's start the game!`;

        // Here, you can add your dynamic questions and game flow based on the selected category
        // For now, we'll start with a basic interaction for testing purposes
        askQuestion();
      });

      // Function to handle a random question (this is an example, you'll replace it with dynamic question logic)
      function askQuestion() {
        messageDisplay.textContent = "Is it a living thing?";  // Example question
        answerButtons.forEach(button => {
          button.classList.remove('disabled');
          button.addEventListener('click', handleAnswer);
        });
      }

      // Function to handle answer selection
      function handleAnswer(e) {
        const answer = e.target.getAttribute('data-answer');
        messageDisplay.textContent = `You answered: ${answer}`;
        answerButtons.forEach(button => button.classList.add('disabled'));  // Disable buttons after an answer
        nextRoundButton.classList.remove('hidden');
      }

      // Play again
      nextRoundButton.addEventListener('click', () => {
        nextRoundButton.classList.add('hidden');
        askQuestion();
      });

      // Handle user input if the game fails
      submitUserGuessButton.addEventListener('click', () => {
        const userGuess = userGuessInput.value;
        if (userGuess.trim()) {
          messageDisplay.textContent = `You were thinking of: "${userGuess}". Well played!`;
          userInputSection.classList.add('hidden');
          nextRoundButton.classList.remove('hidden');
        }
      });
    });
  </script>
</body>
</html>
